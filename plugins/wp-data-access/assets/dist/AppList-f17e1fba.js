import{l as d,j as e,r,C as u}from"./main.js";import{M as j,T as m,a as f,b as g,R as h,c as A,S as b,d as I,e as T}from"./index.esm-d52ea482.js";import{a as _}from"./AdminTheme-95628d10.js";import{B as i}from"./Box-0ce68545.js";import{I as C}from"./Input-29494a31.js";import{I as E}from"./InputAdornment-824db349.js";import{I as c}from"./iconBase-acf0401f.js";import{T as M,a as y}from"./TreeItem-14a05677.js";import"./identifier-91e83c3b.js";import"./useFormControl-74340145.js";import"./utils-a4c617b5.js";import"./Collapse-746eff24.js";const L=({app:n})=>(d.debug(n),e.jsx(i,{sx:{padding:"30px"},children:n.appTitle})),R=({app:n})=>{const o=r.useRef(null);return e.jsxs(i,{sx:{width:"calc(100% - 10px)",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{children:e.jsx(C,{value:n.appName,inputRef:o,sx:{marginRight:"1rem","&::before":{border:"none"},"& input":{padding:0,border:"none"}},onClick:a=>{a.stopPropagation()},onChange:a=>{d.debug(a)},endAdornment:e.jsx(E,{position:"end",style:{pointerEvents:"none"},children:e.jsx(j,{})})})}),e.jsxs(i,{children:[e.jsx(m,{title:"Edit app name",children:e.jsx(c,{onClick:a=>{o.current.focus(),a.stopPropagation()},children:e.jsx(f,{})})}),e.jsx(m,{title:"Share app",children:e.jsx(c,{onClick:a=>{a.stopPropagation()},children:e.jsx(g,{})})})]})]})},z=()=>{const[n,o]=r.useState([]);r.useEffect(()=>{a()},[]);const a=()=>{h(u.appUrlAppList,{},function(s){const t=s==null?void 0:s.data;if(d.debug("response data",t),Array.isArray(t)){const l=[];for(let p=0;p<t.length;p++)l.push({appId:t[p].app_id,appName:t[p].app_name,appTitle:t[p].app_title,appType:t[p].app_type,appAccess:t[p].app_access,appAddToMenu:t[p].app_add_to_menu,appMenuTitle:t[p].app_menu_title});o(l)}else o([])})},x=_();return e.jsx(A,{theme:x,children:n.length===0?e.jsx(b,{title:"Loading apps..."}):e.jsxs(M,{"aria-label":"Data Apps",defaultCollapseIcon:e.jsx(I,{}),defaultExpandIcon:e.jsx(T,{}),sx:{gridGap:"0",borderBottom:"1px solid rgba(0, 0, 0, 0.34)"},children:[...n.map(s=>e.jsx(y,{nodeId:s.appName,label:e.jsx(R,{app:s}),children:e.jsx(L,{app:s})},s.appName))]})})};export{z as default};
