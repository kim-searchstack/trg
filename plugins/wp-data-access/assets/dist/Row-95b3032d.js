import{r as h,_ as V,l as t,aW as W,b7 as w,a6 as A,b8 as L,W as R,j as m,b9 as I}from"./main.js";import{u as P,a as p,g as z,F as _}from"./main-499a499e.js";import{C as M}from"./ComputedFieldTypeEnum-9a013b11.js";import{B as O}from"./Box-0ce68545.js";import"./index.esm-d52ea482.js";import"./identifier-91e83c3b.js";import"./iconBase-acf0401f.js";import"./Paper-1943bcb2.js";const X=h.lazy(()=>V(()=>import("./Column-e9406a4f.js"),["./Column-e9406a4f.js","./main.js"],import.meta.url)),Y=({dbs:b,tbl:g,appId:l,metaData:n,data:c,primaryKey:y,formMode:a,formSettings:C})=>{t.debug(b,g,n,c,y,a,C);const x=P(),s=p(o=>W(o,l));t.debug("storeColumns",s);const f=s.map(o=>o.columnName);t.debug("sortableColumns",f);const F=p(o=>w(o,l));t.debug("rowValidation",F);const E=p(o=>A(o,l));t.debug("tableSettings",E);const j=L(R.getState(),l),v=(o,e)=>{t.debug(o,e),x(I({appId:l,dbs:b,tbl:g,columnName:o,columnValue:e}))},B={label:"",type:M.TEXT,expression:""};t.debug(B);const S=(o,e)=>(t.debug(o,e),null),T=(o,e,r,u,i,d)=>(t.debug(o,e,r,u,i,d),m.jsx(h.Suspense,{children:m.jsx(O,{sx:{display:"grid",padding:"0"},children:m.jsx(X,{appId:l,columnName:r,columnValue:u,columnMetaData:i,storeColumn:s[e],columnValidation:F[r],onColumnChange:v,metaData:n,context:j,storeTable:E,storeForm:C,formMode:d},o)})},o));return m.jsx(m.Fragment,{children:f.map((o,e)=>{if(s[e].computedField!==void 0)return S(s,e);const r=z(n,o);if(r===void 0)return null;const u={...n==null?void 0:n.columns[r]};if(u.column_name&&s[e].visible===!0){let i="";c&&c[o]!==void 0&&(i=c[o]),u.formLabel=s[e].columnLabel;let d=a;return a!==_.VIEW&&(s[e].updatable||(d=_.VIEW)),T(r,e,o,i,u,d)}else return null})})};export{Y as default};
