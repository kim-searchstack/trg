import{l as u,a6 as A,r as E,j as o,am as T}from"./main.js";import{B,M as R,W as S}from"./index.esm-d52ea482.js";import{u as M,a as P,i as d,R as g}from"./main-499a499e.js";import{C as V}from"./ConfirmDialog-a562852d.js";import{k as v}from"./Actions-eda228ad.js";import{B as w}from"./Box-0ce68545.js";import{I as n}from"./iconBase-acf0401f.js";import"./identifier-91e83c3b.js";import"./Paper-1943bcb2.js";import"./DialogContent-93dc71be.js";import"./createSvgIcon-92c7fe83.js";import"./Select-07b752e9.js";import"./useFormControl-74340145.js";import"./utils-a4c617b5.js";import"./Input-29494a31.js";import"./Switch-321ceb1c.js";import"./Close-07cb3d3a.js";import"./FormControlLabel-8e3c3f60.js";import"./Button-53dec484.js";const D=({dbs:x,tbl:f,metaData:t,appId:r,rowId:i,rowData:p,showForm:c,refetch:j})=>{var m,a;u.debug(t,r,i,p);const y=M(),e=P(s=>A(s,r));u.debug("storeTableSettings",e);const[h,l]=E.useState(!1),C=e.viewLink,b=!d(t)&&((m=t==null?void 0:t.privs)==null?void 0:m.update)&&e.transactions.update,k=!d(t)&&((a=t==null?void 0:t.privs)==null?void 0:a.delete)&&e.transactions.delete;return o.jsxs(w,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-around",alignItems:"center",gap:"5px"},children:[C&&o.jsx(n,{color:"primary",onClick:s=>{Object.keys(i).length||y(T({appId:r,data:p,context:null})),c(i,g.VIEW),s.stopPropagation()},children:o.jsx(B,{})}),b&&o.jsx(n,{color:"primary",onClick:s=>{s.stopPropagation(),c(i,g.UPDATE)},children:o.jsx(R,{})}),k&&o.jsxs(o.Fragment,{children:[o.jsx(n,{color:"error",onClick:s=>{s.stopPropagation(),l(!0)},children:o.jsx(S,{})}),o.jsx(V,{title:"Delete row?",message:"Are you sure you want to delete this row? This action cannot be undone!",open:h,setOpen:l,onConfirm:()=>{v(x,f,i,function(){j()})}})]})]})};export{D as default};
