var At=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var i=(t,e,s)=>(At(t,e,"read from private field"),s?s.call(t):e.get(t)),h=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},o=(t,e,s,r)=>(At(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var bt=(t,e,s,r)=>({set _(n){o(t,e,n,s)},get _(){return i(t,e,r)}}),S=(t,e,s)=>(At(t,e,"access private method"),s);import{r as v,_ as Ds,l as x,V as Ks,W as Vs,a6 as Gs,aC as zs,aD as Ws,X as Xs,aE as Ae,C as $s,aF as Mt,an as ds,j as y,aG as Dt,ab as Js}from"./main.js";import{u as Ys,a as Zs,b as ei,c as ti,M as si}from"./index.esm-e776b934.js";import{n as ii,T as fs,p as ms,q as ri}from"./index.esm-d52ea482.js";import{a as Ct,i as Me,g as ni,c as ps,b as $e}from"./main-499a499e.js";import{F as ai,a as oi,b as li,c as ui,d as ci}from"./index.esm-31eaeb1f.js";import{i as hi}from"./index-ad1f025d.js";import{l as di}from"./Actions-eda228ad.js";import"./vi-589d0887.js";import{u as It}from"./useMobilePicker-9401f362.js";import{e as fi}from"./identifier-91e83c3b.js";import"./createSvgIcon-92c7fe83.js";import"./iconBase-acf0401f.js";import"./Select-07b752e9.js";import"./useFormControl-74340145.js";import"./utils-a4c617b5.js";import"./Input-29494a31.js";import"./Paper-1943bcb2.js";import"./FormControl-e1c831f9.js";import"./Box-0ce68545.js";import"./Button-53dec484.js";import"./TextField-c8735bb7.js";import"./FormHelperText-ab957a1c.js";import"./MenuItem-15f494c0.js";import"./Collapse-746eff24.js";import"./FormControlLabel-8e3c3f60.js";import"./DialogContent-93dc71be.js";import"./AlertTitle-0277b656.js";import"./Close-07cb3d3a.js";import"./Switch-321ceb1c.js";import"./InputAdornment-824db349.js";import"./Radio-f4e05e00.js";import"./Checkbox-d45bf253.js";import"./DateTimePicker-9aae1031.js";import"./date-time-utils-c7fd1af0.js";import"./dateViewRenderers-7976fbb1.js";import"./TimePicker-1f56383f.js";import"./DatePicker-377e1bc5.js";var dt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ze=typeof window>"u"||"Deno"in window;function re(){}function mi(t,e){return typeof t=="function"?t(e):t}function jt(t){return typeof t=="number"&&t>=0&&t!==1/0}function Is(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gs(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:l,queryKey:d,stale:f}=t;if(d){if(r){if(e.queryHash!==zt(d,e.options))return!1}else if(!Ze(e.queryKey,d))return!1}if(s!=="all"){const P=e.isActive();if(s==="active"&&!P||s==="inactive"&&P)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||typeof n<"u"&&n!==e.state.fetchStatus||l&&!l(e))}function ys(t,e){const{exact:s,status:r,predicate:n,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(s){if(Ye(e.options.mutationKey)!==Ye(l))return!1}else if(!Ze(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function zt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ye)(t)}function Ye(t){return JSON.stringify(t,(e,s)=>Qt(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Ze(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Ze(t[s],e[s])):!1}function Ls(t,e){if(t===e)return t;const s=bs(t)&&bs(e);if(s||Qt(t)&&Qt(e)){const r=s?t:Object.keys(t),n=r.length,l=s?e:Object.keys(e),d=l.length,f=s?[]:{};let P=0;for(let R=0;R<d;R++){const g=s?R:l[R];!s&&t[g]===void 0&&e[g]===void 0&&r.includes(g)?(f[g]=void 0,P++):(f[g]=Ls(t[g],e[g]),f[g]===t[g]&&t[g]!==void 0&&P++)}return n===d&&P===n?t:f}return e}function Nt(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function bs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Qt(t){if(!Cs(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Cs(s)||!s.hasOwnProperty("isPrototypeOf"))}function Cs(t){return Object.prototype.toString.call(t)==="[object Object]"}function pi(t){return new Promise(e=>{setTimeout(e,t)})}function Bt(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Ls(t,e):e}function gi(t){return t}function yi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function bi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var ve,fe,De,Es,Ci=(Es=class extends dt{constructor(){super();h(this,ve,void 0);h(this,fe,void 0);h(this,De,void 0);o(this,De,e=>{if(!ze&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){i(this,fe)||this.setEventListener(i(this,De))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,fe))==null||e.call(this),o(this,fe,void 0))}setEventListener(e){var s;o(this,De,e),(s=i(this,fe))==null||s.call(this),o(this,fe,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){i(this,ve)!==e&&(o(this,ve,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof i(this,ve)=="boolean"?i(this,ve):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ve=new WeakMap,fe=new WeakMap,De=new WeakMap,Es),wt=new Ci,Ie,me,Le,Fs,vi=(Fs=class extends dt{constructor(){super();h(this,Ie,!0);h(this,me,void 0);h(this,Le,void 0);o(this,Le,e=>{if(!ze&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){i(this,me)||this.setEventListener(i(this,Le))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,me))==null||e.call(this),o(this,me,void 0))}setEventListener(e){var s;o(this,Le,e),(s=i(this,me))==null||s.call(this),o(this,me,e(this.setOnline.bind(this)))}setOnline(e){i(this,Ie)!==e&&(o(this,Ie,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return i(this,Ie)}},Ie=new WeakMap,me=new WeakMap,Le=new WeakMap,Fs),St=new vi;function wi(t){return Math.min(1e3*2**t,3e4)}function Ft(t){return(t??"online")==="online"?St.isOnline():!0}var js=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lt(t){return t instanceof js}function Ns(t){let e=!1,s=0,r=!1,n,l,d;const f=new Promise((m,b)=>{l=m,d=b}),P=m=>{var b;r||(c(new js(m)),(b=t.abort)==null||b.call(t))},R=()=>{e=!0},g=()=>{e=!1},A=()=>!wt.isFocused()||t.networkMode!=="always"&&!St.isOnline(),w=m=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,m),n==null||n(),l(m))},c=m=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,m),n==null||n(),d(m))},T=()=>new Promise(m=>{var b;n=N=>{const F=r||!A();return F&&m(N),F},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;n=void 0,r||(m=t.onContinue)==null||m.call(t)}),O=()=>{if(r)return;let m;try{m=t.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(w).catch(b=>{var W;if(r)return;const N=t.retry??(ze?0:3),F=t.retryDelay??wi,H=typeof F=="function"?F(s,b):F,Q=N===!0||typeof N=="number"&&s<N||typeof N=="function"&&N(s,b);if(e||!Q){c(b);return}s++,(W=t.onFail)==null||W.call(t,s,b),pi(H).then(()=>{if(A())return T()}).then(()=>{e?c(b):O()})})};return Ft(t.networkMode)?O():T().then(O),{promise:f,cancel:P,continue:()=>(n==null?void 0:n())?f:Promise.resolve(),cancelRetry:R,continueRetry:g}}function Si(){let t=[],e=0,s=w=>{w()},r=w=>{w()},n=w=>setTimeout(w,0);const l=w=>{n=w},d=w=>{let c;e++;try{c=w()}finally{e--,e||R()}return c},f=w=>{e?t.push(w):n(()=>{s(w)})},P=w=>(...c)=>{f(()=>{w(...c)})},R=()=>{const w=t;t=[],w.length&&n(()=>{r(()=>{w.forEach(c=>{s(c)})})})};return{batch:d,batchCalls:P,schedule:f,setNotifyFunction:w=>{s=w},setBatchNotifyFunction:w=>{r=w},setScheduler:l}}var G=Si(),we,Ps,Qs=(Ps=class{constructor(){h(this,we,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jt(this.gcTime)&&o(this,we,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ze?1/0:5*60*1e3))}clearGcTimeout(){i(this,we)&&(clearTimeout(i(this,we)),o(this,we,void 0))}},we=new WeakMap,Ps),je,Ne,te,pe,se,_,et,Se,Qe,vt,ne,he,Rs,Ei=(Rs=class extends Qs{constructor(e){super();h(this,Qe);h(this,ne);h(this,je,void 0);h(this,Ne,void 0);h(this,te,void 0);h(this,pe,void 0);h(this,se,void 0);h(this,_,void 0);h(this,et,void 0);h(this,Se,void 0);o(this,Se,!1),o(this,et,e.defaultOptions),S(this,Qe,vt).call(this,e.options),o(this,_,[]),o(this,te,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,o(this,je,e.state||Fi(this.options)),this.state=i(this,je),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!i(this,_).length&&this.state.fetchStatus==="idle"&&i(this,te).remove(this)}setData(e,s){const r=Bt(this.state.data,e,this.options);return S(this,ne,he).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){S(this,ne,he).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r;const s=i(this,pe);return(r=i(this,se))==null||r.cancel(e),s?s.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,je))}isActive(){return i(this,_).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||i(this,_).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Is(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=i(this,_).find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=i(this,se))==null||s.continue()}onOnline(){var s;const e=i(this,_).find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=i(this,se))==null||s.continue()}addObserver(e){i(this,_).includes(e)||(i(this,_).push(e),this.clearGcTimeout(),i(this,te).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){i(this,_).includes(e)&&(o(this,_,i(this,_).filter(s=>s!==e)),i(this,_).length||(i(this,se)&&(i(this,Se)?i(this,se).cancel({revert:!0}):i(this,se).cancelRetry()),this.scheduleGc()),i(this,te).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return i(this,_).length}invalidate(){this.state.isInvalidated||S(this,ne,he).call(this,{type:"invalidate"})}fetch(e,s){var R,g,A,w;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(i(this,pe))return(R=i(this,se))==null||R.continueRetry(),i(this,pe)}if(e&&S(this,Qe,vt).call(this,e),!this.options.queryFn){const c=i(this,_).find(T=>T.options.queryFn);c&&S(this,Qe,vt).call(this,c.options)}const r=new AbortController,n={queryKey:this.queryKey,meta:this.meta},l=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(o(this,Se,!0),r.signal)})};l(n);const d=()=>this.options.queryFn?(o(this,Se,!1),this.options.persister?this.options.persister(this.options.queryFn,n,this):this.options.queryFn(n)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),f={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};l(f),(g=this.options.behavior)==null||g.onFetch(f,this),o(this,Ne,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=f.fetchOptions)==null?void 0:A.meta))&&S(this,ne,he).call(this,{type:"fetch",meta:(w=f.fetchOptions)==null?void 0:w.meta});const P=c=>{var T,O,m,b;Lt(c)&&c.silent||S(this,ne,he).call(this,{type:"error",error:c}),Lt(c)||((O=(T=i(this,te).config).onError)==null||O.call(T,c,this),(b=(m=i(this,te).config).onSettled)==null||b.call(m,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return o(this,se,Ns({fn:f.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{var T,O,m,b;if(typeof c>"u"){P(new Error(`${this.queryHash} data is undefined`));return}this.setData(c),(O=(T=i(this,te).config).onSuccess)==null||O.call(T,c,this),(b=(m=i(this,te).config).onSettled)==null||b.call(m,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:P,onFail:(c,T)=>{S(this,ne,he).call(this,{type:"failed",failureCount:c,error:T})},onPause:()=>{S(this,ne,he).call(this,{type:"pause"})},onContinue:()=>{S(this,ne,he).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode})),o(this,pe,i(this,se).promise),i(this,pe)}},je=new WeakMap,Ne=new WeakMap,te=new WeakMap,pe=new WeakMap,se=new WeakMap,_=new WeakMap,et=new WeakMap,Se=new WeakMap,Qe=new WeakSet,vt=function(e){this.options={...i(this,et),...e},this.updateGcTime(this.options.gcTime)},ne=new WeakSet,he=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:Ft(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Lt(n)&&n.revert&&i(this,Ne)?{...i(this,Ne),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),G.batch(()=>{i(this,_).forEach(r=>{r.onQueryUpdate()}),i(this,te).notify({query:this,type:"updated",action:e})})},Rs);function Fi(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=typeof e<"u",r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var oe,Ts,Pi=(Ts=class extends dt{constructor(e={}){super();h(this,oe,void 0);this.config=e,o(this,oe,new Map)}build(e,s,r){const n=s.queryKey,l=s.queryHash??zt(n,s);let d=this.get(l);return d||(d=new Ei({cache:this,queryKey:n,queryHash:l,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(d)),d}add(e){i(this,oe).has(e.queryHash)||(i(this,oe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=i(this,oe).get(e.queryHash);s&&(e.destroy(),s===e&&i(this,oe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){G.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return i(this,oe).get(e)}getAll(){return[...i(this,oe).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>gs(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>gs(e,r)):s}notify(e){G.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){G.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){G.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},oe=new WeakMap,Ts),le,tt,Y,Be,ue,de,Os,Ri=(Os=class extends Qs{constructor(e){super();h(this,ue);h(this,le,void 0);h(this,tt,void 0);h(this,Y,void 0);h(this,Be,void 0);this.mutationId=e.mutationId,o(this,tt,e.defaultOptions),o(this,Y,e.mutationCache),o(this,le,[]),this.state=e.state||Ti(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...i(this,tt),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){i(this,le).includes(e)||(i(this,le).push(e),this.clearGcTimeout(),i(this,Y).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){o(this,le,i(this,le).filter(s=>s!==e)),this.scheduleGc(),i(this,Y).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){i(this,le).length||(this.state.status==="pending"?this.scheduleGc():i(this,Y).remove(this))}continue(){var e;return((e=i(this,Be))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,l,d,f,P,R,g,A,w,c,T,O,m,b,N,F,H,Q,W,B;const s=()=>(o(this,Be,Ns({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,E)=>{S(this,ue,de).call(this,{type:"failed",failureCount:D,error:E})},onPause:()=>{S(this,ue,de).call(this,{type:"pause"})},onContinue:()=>{S(this,ue,de).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),i(this,Be).promise),r=this.state.status==="pending";try{if(!r){S(this,ue,de).call(this,{type:"pending",variables:e}),await((l=(n=i(this,Y).config).onMutate)==null?void 0:l.call(n,e,this));const E=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,e));E!==this.state.context&&S(this,ue,de).call(this,{type:"pending",context:E,variables:e})}const D=await s();return await((R=(P=i(this,Y).config).onSuccess)==null?void 0:R.call(P,D,e,this.state.context,this)),await((A=(g=this.options).onSuccess)==null?void 0:A.call(g,D,e,this.state.context)),await((c=(w=i(this,Y).config).onSettled)==null?void 0:c.call(w,D,null,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,D,null,e,this.state.context)),S(this,ue,de).call(this,{type:"success",data:D}),D}catch(D){try{throw await((b=(m=i(this,Y).config).onError)==null?void 0:b.call(m,D,e,this.state.context,this)),await((F=(N=this.options).onError)==null?void 0:F.call(N,D,e,this.state.context)),await((Q=(H=i(this,Y).config).onSettled)==null?void 0:Q.call(H,void 0,D,this.state.variables,this.state.context,this)),await((B=(W=this.options).onSettled)==null?void 0:B.call(W,void 0,D,e,this.state.context)),D}finally{S(this,ue,de).call(this,{type:"error",error:D})}}}},le=new WeakMap,tt=new WeakMap,Y=new WeakMap,Be=new WeakMap,ue=new WeakSet,de=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Ft(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),G.batch(()=>{i(this,le).forEach(r=>{r.onMutationUpdate(e)}),i(this,Y).notify({mutation:this,type:"updated",action:e})})},Os);function Ti(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ie,st,Ee,xs,Oi=(xs=class extends dt{constructor(e={}){super();h(this,ie,void 0);h(this,st,void 0);h(this,Ee,void 0);this.config=e,o(this,ie,[]),o(this,st,0)}build(e,s,r){const n=new Ri({mutationCache:this,mutationId:++bt(this,st)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){i(this,ie).push(e),this.notify({type:"added",mutation:e})}remove(e){o(this,ie,i(this,ie).filter(s=>s!==e)),this.notify({type:"removed",mutation:e})}clear(){G.batch(()=>{i(this,ie).forEach(e=>{this.remove(e)})})}getAll(){return i(this,ie)}find(e){const s={exact:!0,...e};return i(this,ie).find(r=>ys(s,r))}findAll(e={}){return i(this,ie).filter(s=>ys(e,s))}notify(e){G.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){return o(this,Ee,(i(this,Ee)??Promise.resolve()).then(()=>{const e=i(this,ie).filter(s=>s.state.isPaused);return G.batch(()=>e.reduce((s,r)=>s.then(()=>r.continue().catch(re)),Promise.resolve()))}).then(()=>{o(this,Ee,void 0)})),i(this,Ee)}},ie=new WeakMap,st=new WeakMap,Ee=new WeakMap,xs);function xi(t){return{onFetch:(e,s)=>{const r=async()=>{var T,O,m,b,N;const n=e.options,l=(m=(O=(T=e.fetchOptions)==null?void 0:T.meta)==null?void 0:O.fetchMore)==null?void 0:m.direction,d=((b=e.state.data)==null?void 0:b.pages)||[],f=((N=e.state.data)==null?void 0:N.pageParams)||[],P={pages:[],pageParams:[]};let R=!1;const g=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(e.signal.aborted?R=!0:e.signal.addEventListener("abort",()=>{R=!0}),e.signal)})},A=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),w=async(F,H,Q)=>{if(R)return Promise.reject();if(H==null&&F.pages.length)return Promise.resolve(F);const W={queryKey:e.queryKey,pageParam:H,direction:Q?"backward":"forward",meta:e.options.meta};g(W);const B=await A(W),{maxPages:D}=e.options,E=Q?bi:yi;return{pages:E(F.pages,B,D),pageParams:E(F.pageParams,H,D)}};let c;if(l&&d.length){const F=l==="backward",H=F?Ai:vs,Q={pages:d,pageParams:f},W=H(n,Q);c=await w(Q,W,F)}else{c=await w(P,f[0]??n.initialPageParam);const F=t??d.length;for(let H=1;H<F;H++){const Q=vs(n,c);c=await w(c,Q)}}return c};e.options.persister?e.fetchFn=()=>{var n,l;return(l=(n=e.options).persister)==null?void 0:l.call(n,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function vs(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function Ai(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var U,ge,ye,qe,ke,be,Ue,He,As,Mi=(As=class{constructor(t={}){h(this,U,void 0);h(this,ge,void 0);h(this,ye,void 0);h(this,qe,void 0);h(this,ke,void 0);h(this,be,void 0);h(this,Ue,void 0);h(this,He,void 0);o(this,U,t.queryCache||new Pi),o(this,ge,t.mutationCache||new Oi),o(this,ye,t.defaultOptions||{}),o(this,qe,new Map),o(this,ke,new Map),o(this,be,0)}mount(){bt(this,be)._++,i(this,be)===1&&(o(this,Ue,wt.subscribe(()=>{wt.isFocused()&&(this.resumePausedMutations(),i(this,U).onFocus())})),o(this,He,St.subscribe(()=>{St.isOnline()&&(this.resumePausedMutations(),i(this,U).onOnline())})))}unmount(){var t,e;bt(this,be)._--,i(this,be)===0&&((t=i(this,Ue))==null||t.call(this),o(this,Ue,void 0),(e=i(this,He))==null||e.call(this),o(this,He,void 0))}isFetching(t){return i(this,U).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return i(this,ge).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=i(this,U).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=i(this,U).find({queryKey:t}),n=r==null?void 0:r.state.data,l=mi(e,n);if(typeof l>"u")return;const d=this.defaultQueryOptions({queryKey:t});return i(this,U).build(this,d).setData(l,{...s,manual:!0})}setQueriesData(t,e,s){return G.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var e;return(e=i(this,U).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=i(this,U);G.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=i(this,U),r={type:"active",...t};return G.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=G.batch(()=>i(this,U).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(re).catch(re)}invalidateQueries(t={},e={}){return G.batch(()=>{if(i(this,U).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=G.batch(()=>i(this,U).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let l=n.fetch(void 0,s);return s.throwOnError||(l=l.catch(re)),n.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(re)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const s=i(this,U).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(re).catch(re)}fetchInfiniteQuery(t){return t.behavior=xi(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(re).catch(re)}resumePausedMutations(){return i(this,ge).resumePausedMutations()}getQueryCache(){return i(this,U)}getMutationCache(){return i(this,ge)}getDefaultOptions(){return i(this,ye)}setDefaultOptions(t){o(this,ye,t)}setQueryDefaults(t,e){i(this,qe).set(Ye(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...i(this,qe).values()];let s={};return e.forEach(r=>{Ze(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){i(this,ke).set(Ye(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...i(this,ke).values()];let s={};return e.forEach(r=>{Ze(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...i(this,ye).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zt(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...i(this,ye).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){i(this,U).clear(),i(this,ge).clear()}},U=new WeakMap,ge=new WeakMap,ye=new WeakMap,qe=new WeakMap,ke=new WeakMap,be=new WeakMap,Ue=new WeakMap,He=new WeakMap,As),J,M,it,X,Fe,_e,ce,rt,Ke,Ve,Pe,Re,Ce,Ge,Te,Je,nt,qt,at,kt,ot,Ut,lt,Ht,ut,_t,ct,Kt,ht,Vt,Et,Bs,Ms,Di=(Ms=class extends dt{constructor(e,s){super();h(this,Te);h(this,nt);h(this,at);h(this,ot);h(this,lt);h(this,ut);h(this,ct);h(this,ht);h(this,Et);h(this,J,void 0);h(this,M,void 0);h(this,it,void 0);h(this,X,void 0);h(this,Fe,void 0);h(this,_e,void 0);h(this,ce,void 0);h(this,rt,void 0);h(this,Ke,void 0);h(this,Ve,void 0);h(this,Pe,void 0);h(this,Re,void 0);h(this,Ce,void 0);h(this,Ge,new Set);this.options=s,o(this,J,e),o(this,ce,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,M).addObserver(this),ws(i(this,M),this.options)?S(this,Te,Je).call(this):this.updateResult(),S(this,lt,Ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gt(i(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gt(i(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,S(this,ut,_t).call(this),S(this,ct,Kt).call(this),i(this,M).removeObserver(this)}setOptions(e,s){const r=this.options,n=i(this,M);if(this.options=i(this,J).defaultQueryOptions(e),Nt(r,this.options)||i(this,J).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,M),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),S(this,ht,Vt).call(this);const l=this.hasListeners();l&&Ss(i(this,M),n,this.options,r)&&S(this,Te,Je).call(this),this.updateResult(s),l&&(i(this,M)!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&S(this,nt,qt).call(this);const d=S(this,at,kt).call(this);l&&(i(this,M)!==n||this.options.enabled!==r.enabled||d!==i(this,Ce))&&S(this,ot,Ut).call(this,d)}getOptimisticResult(e){const s=i(this,J).getQueryCache().build(i(this,J),e),r=this.createResult(s,e);return Li(this,r)&&(o(this,X,r),o(this,_e,this.options),o(this,Fe,i(this,M).state)),r}getCurrentResult(){return i(this,X)}trackResult(e){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(i(this,Ge).add(r),e[r])})}),s}getCurrentQuery(){return i(this,M)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=i(this,J).defaultQueryOptions(e),r=i(this,J).getQueryCache().build(i(this,J),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return S(this,Te,Je).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,X)))}createResult(e,s){var W;const r=i(this,M),n=this.options,l=i(this,X),d=i(this,Fe),f=i(this,_e),R=e!==r?e.state:i(this,it),{state:g}=e;let{error:A,errorUpdatedAt:w,fetchStatus:c,status:T}=g,O=!1,m;if(s._optimisticResults){const B=this.hasListeners(),D=!B&&ws(e,s),E=B&&Ss(e,r,s,n);(D||E)&&(c=Ft(e.options.networkMode)?"fetching":"paused",g.dataUpdatedAt||(T="pending")),s._optimisticResults==="isRestoring"&&(c="idle")}if(s.select&&typeof g.data<"u")if(l&&g.data===(d==null?void 0:d.data)&&s.select===i(this,rt))m=i(this,Ke);else try{o(this,rt,s.select),m=s.select(g.data),m=Bt(l==null?void 0:l.data,m,s),o(this,Ke,m),o(this,ce,null)}catch(B){o(this,ce,B)}else m=g.data;if(typeof s.placeholderData<"u"&&typeof m>"u"&&T==="pending"){let B;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(f==null?void 0:f.placeholderData))B=l.data;else if(B=typeof s.placeholderData=="function"?s.placeholderData((W=i(this,Ve))==null?void 0:W.state.data,i(this,Ve)):s.placeholderData,s.select&&typeof B<"u")try{B=s.select(B),o(this,ce,null)}catch(D){o(this,ce,D)}typeof B<"u"&&(T="success",m=Bt(l==null?void 0:l.data,B,s),O=!0)}i(this,ce)&&(A=i(this,ce),m=i(this,Ke),w=Date.now(),T="error");const b=c==="fetching",N=T==="pending",F=T==="error",H=N&&b;return{status:T,fetchStatus:c,isPending:N,isSuccess:T==="success",isError:F,isInitialLoading:H,isLoading:H,data:m,dataUpdatedAt:g.dataUpdatedAt,error:A,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>R.dataUpdateCount||g.errorUpdateCount>R.errorUpdateCount,isFetching:b,isRefetching:b&&!N,isLoadingError:F&&g.dataUpdatedAt===0,isPaused:c==="paused",isPlaceholderData:O,isRefetchError:F&&g.dataUpdatedAt!==0,isStale:Wt(e,s),refetch:this.refetch}}updateResult(e){const s=i(this,X),r=this.createResult(i(this,M),this.options);if(o(this,Fe,i(this,M).state),o(this,_e,this.options),i(this,Fe).data!==void 0&&o(this,Ve,i(this,M)),Nt(r,s))return;o(this,X,r);const n={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:d}=this.options,f=typeof d=="function"?d():d;if(f==="all"||!f&&!i(this,Ge).size)return!0;const P=new Set(f??i(this,Ge));return this.options.throwOnError&&P.add("error"),Object.keys(i(this,X)).some(R=>{const g=R;return i(this,X)[g]!==s[g]&&P.has(g)})};(e==null?void 0:e.listeners)!==!1&&l()&&(n.listeners=!0),S(this,Et,Bs).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&S(this,lt,Ht).call(this)}},J=new WeakMap,M=new WeakMap,it=new WeakMap,X=new WeakMap,Fe=new WeakMap,_e=new WeakMap,ce=new WeakMap,rt=new WeakMap,Ke=new WeakMap,Ve=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Ce=new WeakMap,Ge=new WeakMap,Te=new WeakSet,Je=function(e){S(this,ht,Vt).call(this);let s=i(this,M).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(re)),s},nt=new WeakSet,qt=function(){if(S(this,ut,_t).call(this),ze||i(this,X).isStale||!jt(this.options.staleTime))return;const s=Is(i(this,X).dataUpdatedAt,this.options.staleTime)+1;o(this,Pe,setTimeout(()=>{i(this,X).isStale||this.updateResult()},s))},at=new WeakSet,kt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,M)):this.options.refetchInterval)??!1},ot=new WeakSet,Ut=function(e){S(this,ct,Kt).call(this),o(this,Ce,e),!(ze||this.options.enabled===!1||!jt(i(this,Ce))||i(this,Ce)===0)&&o(this,Re,setInterval(()=>{(this.options.refetchIntervalInBackground||wt.isFocused())&&S(this,Te,Je).call(this)},i(this,Ce)))},lt=new WeakSet,Ht=function(){S(this,nt,qt).call(this),S(this,ot,Ut).call(this,S(this,at,kt).call(this))},ut=new WeakSet,_t=function(){i(this,Pe)&&(clearTimeout(i(this,Pe)),o(this,Pe,void 0))},ct=new WeakSet,Kt=function(){i(this,Re)&&(clearInterval(i(this,Re)),o(this,Re,void 0))},ht=new WeakSet,Vt=function(){const e=i(this,J).getQueryCache().build(i(this,J),this.options);if(e===i(this,M))return;const s=i(this,M);o(this,M,e),o(this,it,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Et=new WeakSet,Bs=function(e){G.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(i(this,X))}),i(this,J).getQueryCache().notify({query:i(this,M),type:"observerResultsUpdated"})})},Ms);function Ii(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ws(t,e){return Ii(t,e)||t.state.dataUpdatedAt>0&&Gt(t,e,e.refetchOnMount)}function Gt(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Wt(t,e)}return!1}function Ss(t,e,s,r){return s.enabled!==!1&&(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Wt(t,s)}function Wt(t,e){return t.isStaleByTime(e.staleTime)}function Li(t,e){return!Nt(t.getCurrentResult(),e)}var qs=v.createContext(void 0),ji=t=>{const e=v.useContext(qs);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ni=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.createElement(qs.Provider,{value:t},e)),ks=v.createContext(!1),Qi=()=>v.useContext(ks);ks.Provider;function Bi(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qi=v.createContext(Bi()),ki=()=>v.useContext(qi);function Ui(t,e){return typeof t=="function"?t(...e):!!t}var Hi=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},_i=t=>{v.useEffect(()=>{t.clearReset()},[t])},Ki=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Ui(s,[t.error,r]),Vi=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Gi=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,zi=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Wi(t,e,s){const r=ji(s),n=Qi(),l=ki(),d=r.defaultQueryOptions(t);d._optimisticResults=n?"isRestoring":"optimistic",Vi(d),Hi(d,l),_i(l);const[f]=v.useState(()=>new e(r,d)),P=f.getOptimisticResult(d);if(v.useSyncExternalStore(v.useCallback(R=>{const g=n?()=>{}:f.subscribe(G.batchCalls(R));return f.updateResult(),g},[f,n]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),v.useEffect(()=>{f.setOptions(d,{listeners:!1})},[d,f]),Gi(d,P))throw zi(d,f,l);if(Ki({result:P,errorResetBoundary:l,throwOnError:d.throwOnError,query:r.getQueryCache().get(d.queryHash)}))throw P.error;return d.notifyOnChangeProps?P:f.trackResult(P)}function Xi(t,e){return Wi(t,Di,e)}const $i={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSort:"Clear sort",clickToCopy:"Click to copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"};const Ji=v.lazy(()=>Ds(()=>import("./Toolbar-94979539.js"),["./Toolbar-94979539.js","./main.js","./index.esm-d52ea482.js","./identifier-91e83c3b.js","./iconBase-acf0401f.js","./Box-0ce68545.js","./DialogContent-93dc71be.js","./createSvgIcon-92c7fe83.js","./Select-07b752e9.js","./useFormControl-74340145.js","./utils-a4c617b5.js","./main-499a499e.js","./Paper-1943bcb2.js","./main-9fe7f77b.css","./Input-29494a31.js","./index.esm-f4cad0c6.js","./Actions-eda228ad.js","./ConfirmDialog-a562852d.js","./Switch-321ceb1c.js","./Close-07cb3d3a.js","./FormControlLabel-8e3c3f60.js","./Button-53dec484.js","./RadioGroup-330d4c57.js","./Radio-f4e05e00.js"],import.meta.url)),Yi=v.lazy(()=>Ds(()=>import("./RowActions-6976d7eb.js"),["./RowActions-6976d7eb.js","./main.js","./index.esm-d52ea482.js","./identifier-91e83c3b.js","./iconBase-acf0401f.js","./Box-0ce68545.js","./main-499a499e.js","./Paper-1943bcb2.js","./main-9fe7f77b.css","./ConfirmDialog-a562852d.js","./DialogContent-93dc71be.js","./createSvgIcon-92c7fe83.js","./Select-07b752e9.js","./useFormControl-74340145.js","./utils-a4c617b5.js","./Input-29494a31.js","./Switch-321ceb1c.js","./Close-07cb3d3a.js","./FormControlLabel-8e3c3f60.js","./Button-53dec484.js","./Actions-eda228ad.js"],import.meta.url)),Zi=({appId:t,display:e,refresh:s,showForm:r})=>{var os,ls,us,cs,hs;x.debug(t,e,s);const n=Ks(Vs.getState(),t),l=n.src.dbs,d=n.src.tbl;x.debug("metaData",n,l,d);const[f,P]=v.useState({pageIndex:0,pageSize:10}),[R,g]=v.useState([]),[A,w]=v.useState(""),[c,T]=v.useState([]),[O,m]=v.useState(!1),[b,N]=v.useState(void 0),[F,H]=v.useState({global:A,column:c}),[Q,W]=v.useState({});x.debug(f,R,A,b,F,Q),x.debug(c,O);const[B,D]=v.useState($i),E=Ct(a=>Gs(a,t));x.debug("storeTableSettings",E);const Xt=n.primary_key.length>0,ft=E.viewLink,Pt=!Me(n)&&((os=n==null?void 0:n.privs)==null?void 0:os.update)&&E.transactions.update,Rt=!Me(n)&&((ls=n==null?void 0:n.privs)==null?void 0:ls.delete)&&E.transactions.delete,mt=!Me(n)&&Xt&&(ft||Pt||Rt)||Me(n)&&ft,Tt=Ct(a=>zs(a,t));x.debug("bulkActions",Tt);let pt=!1;for(const a in Tt)pt=pt||Tt[a]===!0;x.debug("bulkActionsEnabled",pt);const Oe=!Me(n)&&Xt&&pt;x.debug("hasBulkActions",Oe);const I=Ct(a=>Ws(a,t));x.debug("tableColumns",I);const $t=I.filter(a=>a.inlineEditing===!0).map(a=>a.columnName);x.debug("inlineEditingColumns",$t);const Jt=Ct(a=>Xs(a,t));x.debug("fullScreen",Jt);const[We,Yt]=v.useState({});v.useEffect(()=>{const a={...We},p=[];for(let C=0;C<I.length;C++)I[C].inlineSearch&&I[C].inlineSearchEnum!==Ae.SEARCHBOX&&a[I[C].columnName]===void 0&&(a[I[C].columnName]=[],p.push(I[C].columnName));Yt(a);for(let C=0;C<p.length;C++)di(l,d,p[C],u=>{if(u.code==="ok"&&Array.isArray(u.data)){const L=[];for(let q=0;q<u.data.length;q++)L.push(u.data[q][0]);const K={...We};K[p[C]]=L,Yt(K)}})},[I]),x.debug(We),v.useEffect(()=>{if(E.searchSettings.forceEnterOnSearch){for(let a=0;a<I.length;a++)if(I[a].inlineSearch&&I[a].inlineSearchEnum!==Ae.SEARCHBOX){const p=I[a].columnName;let C,u;for(let L=0;L<F.column.length;L++)F.column[L].id===p&&(C=F.column[L].value);for(let L=0;L<c.length;L++)c[L].id===p&&(u=c[L].value);C!==u&&m(!O)}}},[c]);const{data:xe,isError:Zt,isRefetching:Us,isLoading:Hs,refetch:Ot}=Xi({queryKey:["table-data",f.pageIndex,f.pageSize,R,O,E.searchSettings.forceEnterOnSearch?O:A,E.searchSettings.forceEnterOnSearch?O:c],queryFn:async()=>{var C,u,L,K;const a={};I.filter(q=>q.computedField===void 0).map(q=>{a[q.columnName]=q.queryable});let p;return E.searchSettings.forceSearch&&Array.isArray(c)&&c.length===0&&(A===void 0||A==="")?p={data:{code:"ok",data:{},meta:{rowCount:0}}}:p=await ii($s.appUrlSelect,{dbs:l,tbl:d,col:a,page_index:f.pageIndex,page_size:f.pageSize,sorting:R,search:A,search_columns:c,search_column_fns:$.getState().columnFilterFns,row_count:hi(F,{global:A,column:c})?b:void 0,row_count_estimate:E.searchSettings.estimatedRowCount,media:n==null?void 0:n.media}),x.debug(p),N((u=(C=p==null?void 0:p.data)==null?void 0:C.meta)==null?void 0:u.rowCount),H({global:A,column:c}),W((K=(L=p.data)==null?void 0:L.context)==null?void 0:K.media),p.data},placeholderData:gi}),es=v.useMemo(()=>{var p;const a=[];for(let C=0;C<I.length;C++){const u=I[C],L=u.columnName,K=u.columnLabel,q=ni(n,u.columnName),Z=q!==void 0?ps(n.columns[q].data_type):void 0,ae=q!==void 0?ps(n.columns[q].data_type,!0):void 0,yt=q!==void 0?n.columns[q].data_type:void 0,ee=n.media[L];x.debug(L,K,q,ae,yt,ee);const k={accessorKey:L,header:K,size:u.width,muiTableHeadCellProps:{className:u.classNames,align:u.alignment,sx:{"& .Mui-TableHeadCell-Content":{marginLeft:u.alignment===Mt.LEFT?"-10px":"0",marginRight:u.alignment===Mt.RIGHT?"-10px":"0",width:u.alignment===Mt.RIGHT?"calc(100% + 10px)":"inherit"},"& .Mui-TableHeadCell-Content-Wrapper":{marginLeft:"10px",marginRight:"10px"},"& .Mui-TableHeadCell-Content-Labels .MuiButtonBase-root":{marginRight:"5px"},"& .Mui-TableHeadCell-Content-Wrapper:hover":u.computedField===void 0&&u.orderable?{backgroundColor:((p=$e)==null?void 0:p.palette.mode)===ds.DARK?"rgb(40, 40, 40)":"rgb(242, 242, 242)",borderRadius:"10px",padding:"0 10px",marginLeft:"0",marginRight:"0"}:{}}},muiTableBodyCellProps:{className:u.classNames,align:u.alignment},enableColumnFilter:u.inlineSearch&&!1,enableSorting:u.orderable,enableColumnActions:u.inlineSearch||u.orderable,columnFilterModeOptions:u.inlineSearch&&u.inlineSearchEnum===Ae.SEARCHBOX?Z==="string"?["contains","startsWith","endsWith","equals","notEquals","empty","notEmpty"]:["contains","equals","notEquals","greaterThan","greaterThanOrEqualTo","lessThan","lessThanOrEqualTo","between","betweenInclusive","empty","notEmpty"]:[],filterFn:"contains",filterVariant:u.inlineSearch&&u.inlineSearchEnum===Ae.DROPDOWN?"select":u.inlineSearch&&u.inlineSearchEnum===Ae.MULTISELECT?"multi-select":void 0,filterSelectOptions:u.inlineSearch&&u.inlineSearchEnum!==Ae.SEARCHBOX&&We[u.columnName]!==void 0?We[u.columnName]:void 0};u.computedField===void 0&&(ee==="ImageURL"?(k.muiTableBodyCellProps={className:"pp-image "+u.classNames,align:u.alignment,sx:{"& img":{width:"100%",height:"100%"}}},k.enableColumnFilter=!1,k.enableSorting=!1,k.enableColumnActions=!1,k.Cell=({cell:z})=>(x.debug(ae,z),z.getValue()===null||z.getValue()===""?null:y.jsx(y.Fragment,{children:y.jsx("img",{src:z.getValue(),alt:u.columnLabel})}))):ee==="HyperlinkURL"||ee==="HyperlinkObject"?(k.muiTableBodyCellProps={className:"pp-hyperlink "+u.classNames,align:u.alignment},k.enableColumnFilter=!1,k.enableSorting=!1,k.enableColumnActions=!1,k.Cell=({cell:z})=>{if(x.debug(ae,z),z.getValue()===null||z.getValue()==="")return null;if(ee==="HyperlinkObject")try{const j=JSON.parse(z.getValue());return(j==null?void 0:j.url)!==""&&(j!=null&&j.target)&&(j==null?void 0:j.label)!==""?y.jsx("a",{href:j.url,target:j.target,children:j.label}):null}catch(j){return x.error("Invalid media properties",j),y.jsx(fs,{title:"Error reading media! Check console...",children:y.jsx("span",{children:y.jsx(ms,{})})})}else return y.jsxs("a",{href:z.getValue(),target:"_blank",style:{display:"flex",alignItems:"center",gap:"5px"},children:[y.jsx(ri,{}),y.jsx("span",{children:u.columnLabel})]})}):ee==="WP-Image"||ee==="WP-Attachment"||ee==="WP-Audio"||ee==="WP-Video"?(k.muiTableBodyCellProps={className:ee.toLowerCase()+" "+u.classNames,align:u.alignment},ee==="WP-Image"&&(k.muiTableBodyCellProps.sx={"& img":{width:"100%",height:"100%"}}),k.enableColumnFilter=!1,k.enableSorting=!1,k.enableColumnActions=!1,k.Cell=({cell:z,row:j})=>(x.debug(ae,z,j),z.getValue()===null||z.getValue()===""||!Q[j.id]||!Q[j.id][u.columnName]?null:y.jsxs(y.Fragment,{children:[...Q[j.id][u.columnName].map(_s=>{try{const V=JSON.parse(_s);if(!(V!=null&&V.url))return null;switch(ee){case"WP-Image":return y.jsx("img",{src:V.url,title:V.title,alt:V.title},V.title);case"WP-Audio":return y.jsx("audio",{controls:!0,children:y.jsx("source",{src:V.url,type:V.mime_type})});case"WP-Video":return y.jsx("video",{controls:!0,children:y.jsx("source",{src:V.url,type:V.mime_type})});default:{const Xe=V.mime_type.split("/");return y.jsxs("a",{href:V.url,title:V.title,target:"_blank",children:[y.jsxs("div",{className:"pp-attachment-icon",children:[Xe[0]==="image"&&y.jsx(ai,{}),Xe[0]==="audio"&&y.jsx(oi,{}),Xe[0]==="video"&&y.jsx(li,{}),Xe[0]==="application"?Xe[1]==="pdf"?y.jsx(ui,{}):y.jsx(ci,{}):y.jsx(y.Fragment,{})]}),y.jsx("div",{className:"pp-attachment-link",children:V.title})]})}}}catch(V){return x.error("Invalid media properties",V),y.jsx(fs,{title:"Error reading media! Check console...",children:y.jsx("span",{children:y.jsx(ms,{})})})}})]}))):(yt!=null&&yt.includes("text")&&(k.muiTableBodyCellProps={className:u.classNames,align:u.alignment,sx:{whiteSpace:"pre-wrap"}}),k.Cell=({cell:z,renderedCellValue:j})=>(x.debug(ae,z,j),y.jsx(y.Fragment,{children:j}))),a.push(k))}return a},[n,I,Q,$t]);x.debug("columnDef",es);const ts=()=>!1,$=Ys({columns:es,data:(xe==null?void 0:xe.data)??[],rowCount:((us=xe==null?void 0:xe.meta)==null?void 0:us.rowCount)??0,initialState:{density:E.design.density.default,columnPinning:{left:["mrt-row-actions"]},showColumnFilters:E.searchSettings.forceInline},state:{pagination:f,sorting:R,globalFilter:A,columnFilters:c,isLoading:Hs,showAlertBanner:Zt,showProgressBars:Us,columnOrder:["mrt-row-actions","mrt-row-select"].concat(I.map(a=>a.columnName))},localization:B,enableStickyHeader:!1,enableColumnOrdering:!1,enableColumnResizing:!1,enableColumnPinning:!1,enableHiding:!0,layoutMode:"semantic",enableTopToolbar:!0,enableBottomToolbar:!0,enableFullScreenToggle:!1,renderTopToolbarCustomActions:()=>y.jsx(v.Suspense,{children:y.jsx(Ji,{table:$,metaData:n,appId:t,dbs:l,tbl:d,refetch:Ot,showForm:r})}),renderToolbarInternalActions:({table:a})=>y.jsxs(y.Fragment,{children:[y.jsx(Zs,{table:a}),ts()&&y.jsx(ei,{table:a}),E.design.density.userCanChange&&y.jsx(ti,{table:a})]}),muiTopToolbarProps:()=>{var a,p;return{sx:{"& .MuiPaper-root":{backgroundColor:$e?fi((a=$e)==null?void 0:a.palette.primary.main,((p=$e)==null?void 0:p.palette.mode)===ds.DARK?.2:.1):"inherit"}}}},muiToolbarAlertBannerProps:Zt?{color:"error",children:"Error loading data"}:void 0,enableRowActions:mt,positionActionsColumn:"first",renderRowActions:({row:a,table:p})=>{x.debug(a,p);const C={};return n.primary_key.map(u=>{C[u]=a.original[u]}),x.debug(C),y.jsx(v.Suspense,{children:y.jsx(Yi,{dbs:l,tbl:d,metaData:n,appId:t,showForm:r,rowId:C,rowData:a.original,refetch:Ot})})},displayColumnDefOptions:{"mrt-row-actions":{minSize:0,size:(Number(ft)+Number(Pt)+Number(Rt))*40,maxSize:(Number(ft)+Number(Pt)+Number(Rt))*40,muiTableBodyCellProps:{sx:{backgroundColor:mt&&E.design.overflow===Dt.SCROLL?`${(hs=(cs=$e)==null?void 0:cs.palette)==null?void 0:hs.background.paper} !important`:"inherit",maxWidth:"0 !important",width:"0 !important"}},enableHiding:!0},"mrt-row-select":{minSize:0,size:40,maxSize:40,enableHiding:!0}},renderColumnActionsMenuItems:({internalColumnMenuItems:a})=>{const p=a.filter(C=>C.key!=="11"&&C.key!=="12");return p.length===0?p:[...p.slice(0,p.length-1),Js({},...p.slice(p.length-1,p.length),{props:{divider:!1}})]},enableRowSelection:Oe,enableSelectAll:Oe,muiTableBodyRowProps:({row:a})=>({hover:!0,onClick:a.getToggleSelectedHandler(),sx:{cursor:"pointer"}}),enablePagination:!0,manualPagination:!0,onPaginationChange:P,paginationDisplayMode:"default",positionPagination:"bottom",muiPaginationProps:{rowsPerPageOptions:[5,10,15,20,25,30,50,100],color:"primary",shape:"rounded",variant:"outlined",showRowsPerPage:!0,showFirstButton:!0,showLastButton:!0,className:"test123"},manualFiltering:!0,enableFilterMatchHighlighting:!E.searchSettings.forceEnterOnSearch&&E.searchSettings.highlightMatches,enableGlobalFilterModes:!0,globalFilterFn:"contains",onGlobalFilterChange:w,enableColumnFilterModes:!0,onColumnFiltersChange:T,muiSearchTextFieldProps:{onKeyUp:a=>{a.key.toLowerCase()==="enter"&&setTimeout(()=>{m(!O)},500)},sx:{"& .MuiInputBase-input":{padding:"8px"}}},muiFilterTextFieldProps:()=>({onKeyUp:a=>{a.key.toLowerCase()==="enter"&&setTimeout(()=>{m(!O)},500)}}),manualSorting:!0,onSortingChange:g,enableColumnActions:!0,enableSorting:!0,enableColumnFilters:ts(),enableRowNumbers:Me(n),muiTablePaperProps:{sx:{zIndex:"999999 !important",marginBottom:"2rem",display:e?"block":"none","& input":{border:"none"}},className:"pp-table"},muiTableHeadCellProps:{sx:{backgroundColor:"inherit",boxShadow:"unset"}},muiTableBodyProps:{sx:{"& tr:nth-of-type(odd)":{},"& td":{boxShadow:"unset"}}},muiBottomToolbarProps:{sx:{"& > .MuiBox-root > .MuiBox-root > .MuiBox-root":{alignItems:"center",paddingTop:0,paddingRight:"10px",paddingBottom:0,paddingLeft:0},"& .MuiTypography-root":{font:"inherit",paddingLeft:"0.5rem",paddingRight:"0.5rem"},"& label.MuiFormLabel-root":{transform:"none"}}},muiTableProps:{sx:{border:"unset","& th, td":{borderTop:"unset",borderRight:"unset",borderLeft:"unset"},margin:0}}});x.debug($);const ss=a=>{for(const p in I)if(I[p].columnName===a)return I[p];return null};v.useEffect(()=>{},[E.locale]),v.useEffect(()=>{const a=$.getAllColumns();a[0].id==="mrt-row-actions"&&a[0].toggleVisibility(mt)},[E.viewLink,E.transactions]),v.useEffect(()=>{const a=$.getAllColumns();a[1].id==="mrt-row-select"&&a[1].toggleVisibility(Oe)},[E.bulkActions]);const is=It("(min-width: 1200px)"),rs=It("(max-width: 600px)"),gt=It("(max-width: 900px)");v.useEffect(()=>{if(E.design.overflow===Dt.SCROLL){const a=$.getAllColumns();for(let p=0;p<a.length;p++){const C=ss(a[p].id);C!==null&&(is?a[p].toggleVisibility(C.visible??!1):rs?a[p].toggleVisibility(C.visibleMobile??!1):a[p].toggleVisibility(C.visibleTablet??!1))}}},[E.design.overflow,I,is,rs]);const ns=(a=1)=>{var q;const p=$.refs.tableContainerRef.current.offsetWidth,C=$.getState().density==="spacious"?40:$.getState().density==="comfortable"?32:16,u=80;let L=0;const K=$.getAllColumns();for(let Z=0;Z<K.length;Z++){const ae=ss(K[Z].id);ae!==null?(ae==null?void 0:ae.visible)===!0?(L+=K[Z].getSize()+C,L+u>p?Z>a&&K[Z].toggleVisibility(!1):K[Z].toggleVisibility(!0)):K[Z].toggleVisibility(!1):(!gt||((q=K[Z])==null?void 0:q.id)!=="mrt-row-select")&&(L+=K[Z].getSize()+C)}},[xt]=v.useState(1+(mt?1:0)+(Oe?1:0));x.debug("staticColumnNumber",xt),v.useEffect(()=>{var p,C;if(Oe){const u=$.getAllColumns();((p=u[0])==null?void 0:p.id)==="mrt-row-select"&&(gt?u[0].toggleVisibility(!1):u[0].toggleVisibility(!0)),((C=u[1])==null?void 0:C.id)==="mrt-row-select"&&(gt?u[1].toggleVisibility(!1):u[1].toggleVisibility(!0))}function a(){ns(xt)}return E.design.overflow===Dt.RESPONSIVE&&(ns(xt),window.addEventListener("resize",a)),()=>window.removeEventListener("resize",a)},[$.getState().density,E.design.overflow,I,gt,Jt,e]);const as=v.useRef(!0);return v.useEffect(()=>{as.current?as.current=!1:Ot()},[s]),v.useEffect(()=>{m(!O)},[$.getState().columnFilterFns]),y.jsx(si,{table:$})},Br=({appId:t,display:e,refresh:s,showForm:r})=>{x.debug(t,e,s);const n=new Mi;return y.jsx(Ni,{client:n,children:y.jsx(Zi,{appId:t,display:e,refresh:s,showForm:r})})};export{Br as default};
